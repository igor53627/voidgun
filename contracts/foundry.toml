[profile.default]
src = "src"
test = "test"
out = "out"
libs = ["lib"]
solc = "0.8.31"
remappings = ["@openzeppelin/=lib/openzeppelin-contracts/"]
evm_version = "osaka"
optimizer = true
optimizer_runs = 200
via_ir = true
fs_permissions = [{ access = "read", path = "./verifier" }]

[rpc_endpoints]
tenderly = "${TENDERLY_RPC_URL}"

# Profile for compiling HonkVerifier without via_ir
# The verifier contract has stack-too-deep issues with via_ir=true
# 
# Build verifier separately with:
#   cd verifier && solc --optimize --optimize-runs 1 --bin --abi HonkVerifier.sol -o compiled
#
# Or use forge with this profile (note: may have issues with foundry cache):
#   FOUNDRY_PROFILE=verifier forge build
[profile.verifier]
src = "verifier"
test = "verifier"
out = "out-verifier"
libs = []
solc = "0.8.31"
evm_version = "osaka"
optimizer = true
optimizer_runs = 1
via_ir = false

[fmt]
line_length = 100
tab_width = 4
bracket_spacing = false
